<!doctype html>

<html>
  <head>
    <title>ui-pill</title>
    <script src="http://localhost:35729/livereload.js"></script>
    <script src="node_modules/polymer/platform.js"></script>
    <link rel="stylesheet" href="node_modules/ui-fonts/font-awesome.less">
    <link rel="import" href="node_modules/polymer/polymer.html">
    <link rel="import" href="build/ui-pill-list.html">
    <style>
      body {
        font-family: "Helvetica Neue", "Helvetica", Arial;
      }
      h1 {
        font-size: .9em;
        margin-top: 10px;
      }
      i {
        display:inline-block;
        margin: 3px 0;
        font-size: .8em;
      }
      button{
        background-color: #ef272d;
        border: 1px solid black;
        border-radius: none;
        color:white;
        display: inline-block;
      }
      ui-pill-list{
        margin: 5px 0px;
      }
    </style>
  </head>
  <body unresolved>
    <div id="holder">

      <div>
        <h1>Pill - standalone (no parent)</h1>
        <div>
          <button id="get-value-standalone">Get Value</button>
          <span id="standalone-value"></span>
        </div>
        <ui-pill id="standalone" value="1">
          Doge Food
        </ui-pill>
      </div>

      <div>
        <h1>Pill List - literal pills</h1>
        <div>
          <button id="get-value-literal">Get Value</button>
          <span id="literal-value"></span>
        </div>        
        <i>if you dont set the value here then it returns the innerText (there is no model)</i>
        <ui-pill-list id="literal">
          <ui-pill value="1">Doge Food</ui-pill>        
          <ui-pill>Cat Food</ui-pill>
          <ui-pill value="3">Fish Food</ui-pill>              
        </ui-pill-list>
      </div>

      <div>
        <h1>Pill List - literal & js assigned pills</h1>
        <div>
          <button id="get-value-combo">Get Value</button>
          <span id="combo-value"></span>
        </div>
        
        <ui-pill-list id="combo">
          <ui-pill value="1">
            Doge Food
          </ui-pill>        
          <ui-pill value="2">
            Cat Food
          </ui-pill>          
        </ui-pill-list>
      </div>
      
      <div>
        <h1>Pill List - custom template</h1>
        <button id="add-value-custom">Add Pill</button>
        <div>
          <button id="get-value-custom">Get Value</button>
          <span id="custom-value"></span>
        </div>
        <i>if you dont set the value here then it returns the model</i>
        <ui-pill-list id="custom">
          <template repeat="{{items}}">
            <ui-pill value="{{id}}">
              {{title}}
            </ui-pill>
          </template>
        </ui-pill-list>
      </div>
      
      <div>
        <h1>Pill List - default template</h1>
        <button id="add-value-default">Add Pill</button>
        <div>
          <button id="get-value-default">Get Value</button>
          <span id="default-value"></span>
        </div>        
        <ui-pill-list id="default">
        </ui-pill-list>
      </div>


    </div>
    <script>
      
      document.addEventListener('polymer-ready', function() {

        var standalone = document.querySelector('#standalone')
        var literal = document.querySelector('#literal')
        var combo = document.querySelector('#combo')
        var defaultPill = document.querySelector('#default')
        var customPill = document.querySelector('#custom')

        // setting the control via the items property (i'd rather use value but... ask me)
        customPill.items = [
          {
            id: 1,
            title: "Horse",
            
          },
          {
            id: 2,
            title: "Mini-horse"
          }
        ];

        combo.items = [
          {
            value: 1,
            name: "House Stark"
            
          },
          {
            value: 2,
            name: "House Targaryen"
          }
        ]; 

        defaultPill.items = [
          {
            value: 1,
            name: "House Stark"
            
          },
          {
            value: 2,
            name: "House Targaryen"
          }
        ];          

        // append some extra pills
        document.querySelector("#add-value-default").addEventListener('click', function(e){
          defaultPill.add({name:'Much', value:1})
        })

        document.querySelector("#add-value-custom").addEventListener('click', function(e){
          customPill.add({title:'Much',id:-222})
        })

        // get values from each control
        document.querySelector("#get-value-standalone").addEventListener('click', function(e){
          document.querySelector("#standalone-value").innerHTML = standalone.value
        })

        document.querySelector("#get-value-literal").addEventListener('click', function(e){
          document.querySelector("#literal-value").innerHTML = literal.value
        })

        document.querySelector("#get-value-combo").addEventListener('click', function(e){
          document.querySelector("#combo-value").innerHTML = combo.value
        })

        document.querySelector("#get-value-default").addEventListener('click', function(e){
          document.querySelector("#default-value").innerHTML = defaultPill.value
        })

        document.querySelector("#get-value-custom").addEventListener('click', function(e){
          document.querySelector("#custom-value").innerHTML = customPill.value
        })

        // document handlers to show pill clicks/removes
        document.addEventListener("pill-clicked",function(e){
          console.log(e)
        });
        document.addEventListener("pill-removed",function(e){
          console.log(e)
        });

      })
    </script>
  </body>
</html>
